<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="紅葉"><meta name="copyright" content="紅葉"><meta name="generator" content="Hexo 6.0.0"><meta name="theme" content="hexo-theme-yun"><title>Django 学习笔记 - 02 | 紅葉の森</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/png" href="/img/favicon.png"><link rel="mask-icon" href="/img/favicon.png" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"jk-momiji.com","root":"/","title":"紅葉の森","version":"1.10.6","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"fireworks":{"colors":null},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><meta name="description" content="本文主要介绍 Django 中 Model, Views, Templates 和 Static Files, 并简单引入了 Django Admin.">
<meta property="og:type" content="article">
<meta property="og:title" content="Django 学习笔记 - 02">
<meta property="og:url" content="http://jk-momiji.com/Django/02/">
<meta property="og:site_name" content="紅葉の森">
<meta property="og:description" content="本文主要介绍 Django 中 Model, Views, Templates 和 Static Files, 并简单引入了 Django Admin.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://jk-momiji.com/Django/02/PythonShell.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/BoardSave.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/AddStr.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/Result1.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/OsPathJoin.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/Result2.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/Result3.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/TestStatusCode.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/Test.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/Test2.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/Test3.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/GetBootstrap.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/Test4.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/AdminLogin.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/Admin.png">
<meta property="og:image" content="http://jk-momiji.com/Django/02/Admin2.png">
<meta property="article:published_time" content="2022-01-29T01:41:22.000Z">
<meta property="article:modified_time" content="2022-08-23T09:41:13.372Z">
<meta property="article:author" content="紅葉">
<meta property="article:tag" content="Web相关">
<meta property="article:tag" content="Django">
<meta property="article:tag" content="编程">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://jk-momiji.com/Django/02/PythonShell.png"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="紅葉"><img width="96" loading="lazy" src="/img/avatar.png" alt="紅葉"><span class="site-author-status" title="努力提升">📖</span></a><div class="site-author-name"><a href="/about/">紅葉</a></div><span class="site-name">紅葉の森</span><sub class="site-subtitle">记录每一个思想的火花</sub><div class="site-description">Cogito, ergo sum.</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">25</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">9</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">31</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="留言板"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:clipboard-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><span class="icon iconify" data-icon="ri:rss-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Jk-Cheung" title="GitHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:jk.momiji1230@gmail.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a><a class="links-item hty-icon-button" href="/resources/" title="资源" style="color:green"><span class="icon iconify" data-icon="ri:cloud-line"></span></a><a class="links-item hty-icon-button" href="/girls/" title="喜欢的女孩子" style="color:hotpink"><span class="icon iconify" data-icon="ri:women-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Models"><span class="toc-number">1.</span> <span class="toc-text">Models</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-Models"><span class="toc-number">1.1.</span> <span class="toc-text">定义 Models</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%81%E7%A7%BB-Models"><span class="toc-number">1.2.</span> <span class="toc-text">迁移 Models</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Models-API"><span class="toc-number">1.3.</span> <span class="toc-text">使用 Models API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Model%E2%80%99s-Operations-%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.</span> <span class="toc-text">Model’s Operations 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Views-Templates-%E5%92%8C-Static-Files"><span class="toc-number">2.</span> <span class="toc-text">Views, Templates 和 Static Files</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Django-Template-Engine"><span class="toc-number">2.1.</span> <span class="toc-text">Django Template Engine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Testing-the-Homepage"><span class="toc-number">2.2.</span> <span class="toc-text">Testing the Homepage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Static-Files"><span class="toc-number">2.3.</span> <span class="toc-text">Static Files</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Django-Admin-%E7%AE%80%E4%BB%8B"><span class="toc-number">3.</span> <span class="toc-text">Django Admin 简介</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://jk-momiji.com/Django/02/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="紅葉"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="紅葉の森"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Django 学习笔记 - 02</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="创建时间：2022-01-29 09:41:22" itemprop="dateCreated datePublished" datetime="2022-01-29T09:41:22+08:00">2022-01-29</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="修改时间：2022-08-23 17:41:13" itemprop="dateModified" datetime="2022-08-23T17:41:13+08:00">2022-08-23</time></div><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读次数"><span class="icon iconify" data-icon="ri:eye-line"></span> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">学习笔记</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Web%E7%9B%B8%E5%85%B3/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Web相关</span></a><a class="tag-item" href="/tags/Django/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Django</span></a><a class="tag-item" href="/tags/%E7%BC%96%E7%A8%8B/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">编程</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><p>本文主要介绍 Django 中 Model, Views, Templates 和 Static Files, 并简单引入了 Django Admin.  </p>
<span id="more"></span>

<p>本系列是根据 <em>Vitor Freitas</em> 的Django教程整理而来，如有疑问可参考 <a target="_blank" rel="noopener" href="https://simpleisbetterthancomplex.com/series/2017/09/11/a-complete-beginners-guide-to-django-part-2.html">原文</a>    </p>
<a href="/Content/Django/" title="点击查看索引">点击查看索引</a>

<p>我们的目标是建立一个 <strong>Forum（论坛）</strong> ，其中包括 <strong>Board（板块）</strong> ， <strong>Topic（话题）</strong> ， <strong>Post（跟帖）</strong> ， <strong>User（用户）</strong> 四个 <strong>Class</strong> 。<br>这部分原文有十分详细的介绍，此处不再赘述。<br>其中 <strong>User</strong> 已经在 Django 的内置 app <strong>auth</strong> 定义，因此我们只需要定义其余三个。  </p>
<h2 id="Models"><a href="#Models" class="headerlink" title="Models"></a>Models</h2><h3 id="定义-Models"><a href="#定义-Models" class="headerlink" title="定义 Models"></a>定义 Models</h3><p>在 <strong>boards&#x2F;models.py</strong> 中加入以下代码：  </p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models
<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>models <span class="token keyword">import</span> User


<span class="token keyword">class</span> <span class="token class-name">Board</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    description <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Topic</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    subject <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">)</span>
    last_updated <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>auto_now_add<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    board <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>Board<span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">'topics'</span><span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">)</span>
    starter <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>User<span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">'topics'</span><span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Post</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    message <span class="token operator">=</span> models<span class="token punctuation">.</span>TextField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">4000</span><span class="token punctuation">)</span>
    topic <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>Topic<span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">'posts'</span><span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">)</span>
    created_at <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>auto_now_add<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    updated_at <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    created_by <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>User<span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">'posts'</span><span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">)</span>
    updated_by <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>User<span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">'+'</span><span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">)</span></code></pre>

<p>所有 model 都是 <strong>django.db.models.Model</strong> 类的子类。每个 class 都将转换为数据库表。每个 field 由 <strong>django.db.models.Field</strong> 子类的实例表示，并将被转换为数据库列。  </p>
<p><code>CharField</code>、<code>DateTimeField</code> 等 field 都是 <strong>django.db.models.Field</strong> 的子类，它们包含在 Django 核心中——随时可用。  </p>
<p>某些 field 具有必需的参数，例如 <code>CharField</code> 。我们应该 <strong>始终</strong> 设置一个 <code>max_length</code> 。此信息将用于创建数据库列。 Django 需要知道数据库列需要多大。 Django Forms API 也将使用 <code>max_length</code> 参数来验证用户输入。  </p>
<p>在 Board 定义中，更具体地说，在 <code>name</code> field 中，我们还设置了参数 <code>unique=True</code>，顾名思义，它将在数据库级别 <strong>强制</strong>该 field 的 <strong>唯一性</strong>。  </p>
<p>在 Post 中， <code>created_at</code> field 有一个可选参数， <code>auto_now_add</code> 设置为 <code>True</code>。这将指示 Django 在创建 Post 对象时 <strong>设置当前日期和时间</strong> 。  </p>
<p>在 model 之间 <strong>创建关系</strong> 的一种方法是使用 <code>ForeignKey</code> 。它将在 model 之间创建链接并在数据库级别创建适当的关系。 <code>ForeignKey</code> field 需要一个位置参数，其中包含对其相关模型的引用。<br>例如，在 <code>Topic</code> model 中，<code>board</code> field 是 <code>Board</code> model 的 <code>ForeignKey</code> 。它告诉 Django 一个 <code>Topic</code> 实例只与一个 <code>Board</code> 实例相关。 <code>related_name</code> 参数将用于创建 <strong>反向关系</strong> ，其中 <code>Board</code> 实例将有权访问属于它的 <code>Topic</code> 实例列表。<br>Django 自动创建这种反向关系，也就是说， <code>related_name</code> 是可选的。但是如果我们不为它设置名称，Django 将使用名称生成它：(class_name)_set。例如，在 <code>Board</code> model 中，<code>Topic</code> 实例将在 <code>topic_set</code> 属性下可用。我们只是将其 <strong>重命名</strong> 为 <code>topics</code> ，以使其感觉更自然。<br>在 Post 模型中，<code>updated_by 字段设置了 </code>related_name&#x3D;’+’&#96; 。这告诉 Django 我们不需要这种反向关系，所以它会忽略它。<br><font color=red><br>注意：在 <strong>Django2.0</strong> 后，定义 <em>ForeignKey</em> 和 <em>OneToOneField</em> 时需要加上 <em>on_delete</em> 参数，此参数为了避免两个表里的数据不一致问题，不然会报错：<br>TypeError: <strong>init</strong>() missing 1 required positional argument: ‘on_delete’<br></font></p>
<h3 id="迁移-Models"><a href="#迁移-Models" class="headerlink" title="迁移 Models"></a>迁移 Models</h3><p>下一步是告诉 Django 创建数据库，以便我们可以使用它。<br>在 <em>manage.py</em> 所在目录打开 Terminal，运行以下命令：  </p>
<pre class="language-none"><code class="language-none">python manage.py makemigrations</code></pre>

<p>此时，Django 在 board&#x2F;migrations 目录中创建了一个名为 <strong>0001_initial.py</strong> 的文件。它代表我们应用程序模型的当前状态。在下一步中，Django 将使用这个文件来创建表和列。迁移文件被翻译成 SQL 语句。<br>现在下一步是将我们生成的迁移应用到数据库:  </p>
<pre class="language-none"><code class="language-none">python manage.py migrate</code></pre>

<p>输出会类似于：  </p>
<pre class="language-none"><code class="language-none">Operations to perform:
  Apply all migrations: admin, auth, boards, contenttypes, sessions
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying auth.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying auth.0008_alter_user_username_max_length... OK
  Applying auth.0009_alter_user_last_name_max_length... OK
  Applying auth.0010_alter_group_name_max_length... OK
  Applying auth.0011_update_proxy_permissions... OK
  Applying auth.0012_alter_user_first_name_max_length... OK
  Applying boards.0001_initial... OK
  Applying sessions.0001_initial... OK</code></pre>

<p>因为这是我们第一次迁移数据库，所以 <code>migrate</code> 命令还应用了来自 Django contrib apps 的现有迁移文件，在 <code>INSTALLED_APPS</code> 中列出。<br><code>Applying board.0001_initial... OK</code> 就是我们在上一步生成的迁移。  </p>
<h3 id="使用-Models-API"><a href="#使用-Models-API" class="headerlink" title="使用 Models API"></a>使用 Models API</h3><p>使用以下命令打开 <strong>Python Shell</strong>：  </p>
<pre class="language-none"><code class="language-none">python manage.py shell</code></pre>

<p>会进入如下界面：  </p>
<p><img src="/Django/02/PythonShell.png" alt="Python Shell" loading="lazy">  </p>
<p><a id='ExitPythonShell'></a><br>在 Python Shell 中，<code>Ctrl+C</code> 会中断当前的 <strong>Python</strong> 任务，而不会退出 Python Shell，如果想要退出 Python Shell，需要输入命令：  </p>
<pre class="language-python" data-language="python"><code class="language-python">exit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>或使用快捷键 <code>Ctrl+D</code> 。  </p>
<p>在 Python Shell 中输入以下命令以导入 <strong>Board</strong> class：  </p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> boards<span class="token punctuation">.</span>models <span class="token keyword">import</span> Board</code></pre>

<p>使用以下命令创建新的 board 实例：  </p>
<pre class="language-python" data-language="python"><code class="language-python">board <span class="token operator">=</span> Board<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'Django'</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">'This is a board about Django.'</span><span class="token punctuation">)</span></code></pre>

<p>使用以下命令保存该实例于数据库中：  </p>
<pre class="language-pyhon" data-language="pyhon"><code class="language-pyhon">board.save()</code></pre>

<p><code>save</code> 方法用于创建和更新对象。在这里 Django 创建了一个新对象，因为 Board 实例没有 id。第一次保存后，Django会自动设置id：  </p>
<p><img src="/Django/02/BoardSave.png" alt="Board id" loading="lazy">  </p>
<p>也可通过 <code>board.name</code> 和 <code>board.description</code> 访问其他 field。  </p>
<p>通过以下命令可以更新 field 的值：  </p>
<pre class="language-python" data-language="python"><code class="language-python">board<span class="token punctuation">.</span>description <span class="token operator">=</span> <span class="token string">'Django discussion board.'</span>
board<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>我们也可以通过如下命令创建一个新的 board 实例：  </p>
<pre class="language-python" data-language="python"><code class="language-python">board <span class="token operator">=</span> Board<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'Python'</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">'General discussion about Python.'</span><span class="token punctuation">)</span></code></pre>

<p>输入以下命令得到所有已存在的 boards：  </p>
<pre class="language-python" data-language="python"><code class="language-python">Board<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>输出如下：  </p>
<pre class="language-none"><code class="language-none">&lt;QuerySet [&lt;Board: Board object (1)&gt;, &lt;Board: Board object (2)&gt;]&gt;</code></pre>

<p>这个结果是一个 <strong>QuerySet</strong> ，我们可以看到我们有两个对象，但我们只能读取 <strong>Board object</strong> 。那是因为我们没有在 <strong>Board</strong> model 中定义 <code>__str__</code> method。</p>
<p>首先我们需要<a href="#ExitPythonShell">退出 Python Shell</a>。<br>然后编辑 <strong>boards</strong> 中的 <strong>models.py</strong> ：  </p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Board</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    description <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>name</code></pre>

<p>这时再进行上面的步骤，就会得到：</p>
<p><img src="/Django/02/AddStr.png" alt="输出" loading="lazy">  </p>
<p>对于这个 <strong>QuerySet</strong> ，其具有类似 list 的某些用法，此处不再赘述。<br>我们可以使用 model <strong>Manager</strong> 来查询数据库并返回单个对象。为此，我们使用 <code>get</code> method：  </p>
<pre class="language-python" data-language="python"><code class="language-python">django_board <span class="token operator">=</span> Board<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

django_board<span class="token punctuation">.</span>name</code></pre>

<p>输出：  </p>
<pre class="language-none"><code class="language-none">&#39;Django&#39;</code></pre>

<p>但是我们必须谨慎操作。如果我们试图获取一个不存在的对象，例如，一个 <code>id=3</code> 的 board，它会引发 exception。<br>我们可以对任何 model field 使用 <code>get</code> method，但最好使用可以 <strong>唯一标识对象</strong> 的 field。否则，查询可能会返回多个对象，这将导致异常。<br><font color=red>需要注意的是，<code>get</code> 查询是 <strong>区分大小写</strong> 的。</font>  </p>
<h3 id="Model’s-Operations-总结"><a href="#Model’s-Operations-总结" class="headerlink" title="Model’s Operations 总结"></a>Model’s Operations 总结</h3><p>下面是我们在本节中学习的方法和操作的摘要，使用 <strong>Board</strong> model 作为参考。大写的 <strong>Board</strong> 指的是 class，小写的 <strong>board</strong> 指的是 <strong>Board</strong> model class 的一个 instance&#x2F;object：  </p>
<table>
<thead>
<tr>
<th align="center">Operation</th>
<th align="center">代码示例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">创建 object 而不保存</td>
<td align="center">board &#x3D; Board()</td>
</tr>
<tr>
<td align="center">保存 object（创建或更新）</td>
<td align="center">board.save()</td>
</tr>
<tr>
<td align="center">在数据库中创建并保存 object</td>
<td align="center">Board.objects.create(name&#x3D;’…’, description&#x3D;’…’)</td>
</tr>
<tr>
<td align="center">列出所有 object</td>
<td align="center">Board.objects.all()</td>
</tr>
<tr>
<td align="center">获取由 field 标识的单个object</td>
<td align="center">Board.objects.get(id&#x3D;1)</td>
</tr>
</tbody></table>
<h2 id="Views-Templates-和-Static-Files"><a href="#Views-Templates-和-Static-Files" class="headerlink" title="Views, Templates 和 Static Files"></a>Views, Templates 和 Static Files</h2><p>目前我们已经有一个名为 <code>home</code> 的 view，显示“Hello, World!”在我们的 app 的 homepage 上。现在我们想要做的是在表格中显示一个 board 列表及一些其他信息。<br>首先要做的是导入 <strong>Board</strong> model 并列出所有现有的 boards：<br><strong>boards&#x2F;views.py</strong></p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Board

<span class="token keyword">def</span> <span class="token function">home</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    boards <span class="token operator">=</span> Board<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    boards_names <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> board <span class="token keyword">in</span> boards<span class="token punctuation">:</span>
        boards_names<span class="token punctuation">.</span>append<span class="token punctuation">(</span>board<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

    response_html <span class="token operator">=</span> <span class="token string">'&lt;br>'</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>boards_names<span class="token punctuation">)</span>

    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>response_html<span class="token punctuation">)</span></code></pre>

<p>运行服务器，我们会看到：</p>
<p><img src="/Django/02/Result1.png" alt="运行结果" loading="lazy"></p>
<p>但是，我们不会像这样渲染 HTML。我们只需要一个 broads 列表，渲染部分是 <strong>Django Template Engine</strong> （Django 模板引擎）的工作。  </p>
<h3 id="Django-Template-Engine"><a href="#Django-Template-Engine" class="headerlink" title="Django Template Engine"></a>Django Template Engine</h3><p>在 manage.py 和 boards 文件夹同级目录创建一个名为 <strong>templates</strong> 的新文件夹：  </p>
<ul>
<li>myproject&#x2F;<ul>
<li>manage.py</li>
<li>myproject&#x2F;</li>
<li>boards&#x2F;</li>
<li>templates&#x2F;    &lt;– here!</li>
</ul>
</li>
</ul>
<p>然后在 <strong>templates</strong> 文件夹中，创建一个名为 <strong>home.html</strong> 的 HTML 文件：<br><strong>templates&#x2F;home.html</strong></p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Boards<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Boards<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>

    &#123;% for board in boards %&#125;
      &#123;&#123; board.name &#125;&#125; <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
    &#123;% endfor %&#125;

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>

<p>在上面的代码中，我们将原始 HTML 与一些特殊标签 <code>&#123;% for ... in ... %&#125;</code> 和 <code>&#123;&#123; variable &#125;&#125;</code> 混合在一起。这些特殊标签是 Django Template 语言的一部分。上面的示例显示了如何使用 <code>for</code> 遍历对象列表。 <code>&#123;&#123; board.name &#125;&#125;</code> 在 HTML 中呈现 board 的名称，生成动态的 HTML 文档。<br>在使用这个 HTML 页面之前，我们必须告诉 Django 在哪里可以找到我们的app 的 template。<br>打开 myproject 目录中的 settings.py，搜索 TEMPLATES 变量并将 DIRS 键设置为 os.path.join(BASE_DIR, ‘templates’)：<br><a id='TemplatesDir'></a></p>
<pre class="language-python" data-language="python"><code class="language-python">TEMPLATES <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.template.backends.django.DjangoTemplates'</span><span class="token punctuation">,</span>
        <span class="token string">'DIRS'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'templates'</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'APP_DIRS'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">'OPTIONS'</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token string">'context_processors'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">'django.template.context_processors.debug'</span><span class="token punctuation">,</span>
                <span class="token string">'django.template.context_processors.request'</span><span class="token punctuation">,</span>
                <span class="token string">'django.contrib.auth.context_processors.auth'</span><span class="token punctuation">,</span>
                <span class="token string">'django.contrib.messages.context_processors.messages'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span></code></pre>

<p>这行代码所做的是找到项目目录的完整路径并将“&#x2F;templates”附加到它后面。使用 Python Shell 可以更直观地理解：  </p>
<p><img src="/Django/02/OsPathJoin.png" alt="运行结果" loading="lazy"></p>
<p>现在我们可以更新我们的主页视图：<br><strong>boards&#x2F;views.py</strong></p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Board

<span class="token keyword">def</span> <span class="token function">home</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    boards <span class="token operator">=</span> Board<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'home.html'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string">'boards'</span><span class="token punctuation">:</span> boards<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>

<p><img src="/Django/02/Result2.png" alt="运行结果" loading="lazy"></p>
<p>我们可以使用表格来改进 HTML 模板：</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Boards<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Boards<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Board<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Posts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Topics<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Last Post<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
        &#123;% for board in boards %&#125;
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>
              &#123;&#123; board.name &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>small</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> #888</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>&#123;&#123; board.description &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>small</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
        &#123;% endfor %&#125;
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>

<p><img src="/Django/02/Result3.png" alt="运行结果" loading="lazy"></p>
<h3 id="Testing-the-Homepage"><a href="#Testing-the-Homepage" class="headerlink" title="Testing the Homepage"></a>Testing the Homepage</h3><p>让我们编写我们的第一个 test。现在，我们将在 board app 中的 tests.py 文件中进行编辑：<br><strong>boards&#x2F;tests.py</strong></p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> reverse
<span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase

<span class="token keyword">class</span> <span class="token class-name">HomeTests</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">test_home_view_status_code</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        url <span class="token operator">=</span> reverse<span class="token punctuation">(</span><span class="token string">'home'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span></code></pre>

<p>这是一个非常简单的测试用例，但十分有用。我们正在测试响应的 status code（状态码）。status code 显示为 <strong>200</strong> 时表示 <strong>成功</strong> 。</p>
<p><img src="/Django/02/TestStatusCode.png" alt="运行结果" loading="lazy"></p>
<p>如果有未捕获的异常、语法错误或其他任何情况，Django 将返回 status code <strong>500</strong>，这意味着 <strong>内部服务器错误</strong> 。现在，假设我们的应用程序有 100 个 views。我们只用一个命令为所有 views 编写这个简单的测试，我们将能够测试是否所有视图都返回成功代码。如果没有自动化测试，我们将需要一一检查每一页。<br>执行 Django 的 test 套件:</p>
<pre class="language-none"><code class="language-none">python manage.py test</code></pre>

<p>运行结果：</p>
<p><img src="/Django/02/Test.png" alt="运行结果" loading="lazy"></p>
<p>现在我们可以测试 Django 是否为请求的 URL 返回了正确的 view function。这也是一个有用的测试，因为随着我们的开发进展，<strong>urls.py</strong> module 会变得非常大与复杂。 URL conf 是解析正则表达式的，在某些情况下，我们有一个非常宽松的 URL，因此 Django 最终可能会返回错误的 view function。下面是实现测试的代码：<br><strong>boards&#x2F;tests.py</strong></p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> reverse
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> resolve
<span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase
<span class="token keyword">from</span> <span class="token punctuation">.</span>views <span class="token keyword">import</span> home

<span class="token keyword">class</span> <span class="token class-name">HomeTests</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">test_home_view_status_code</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        url <span class="token operator">=</span> reverse<span class="token punctuation">(</span><span class="token string">'home'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_home_url_resolves_home_view</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        view <span class="token operator">=</span> resolve<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>view<span class="token punctuation">.</span>func<span class="token punctuation">,</span> home<span class="token punctuation">)</span></code></pre>

<p>运行结果：  </p>
<p><img src="/Django/02/Test2.png" alt="运行结果" loading="lazy"></p>
<p>在第二个测试中，我们使用了 <code>resolve</code> 函数。 Django 使用它将请求的 URL 与 <strong>urls.py</strong> module 中列出的 URL 列表进行匹配。此测试将确保作为根 URL 的 <code>/</code> 返回 home view。<br>如果想查看有关测试执行的更多详细信息，需要将详细程度设置为更高级别：</p>
<pre class="language-none"><code class="language-none">python manage.py test --verbosity&#x3D;2</code></pre>

<p>运行结果：</p>
<p><img src="/Django/02/Test3.png" alt="运行结果" loading="lazy"></p>
<p>详细程度决定了将输出到控制台的通知和调试信息的数量： 0 为无输出，1 为正常输出，2 为详细输出。  </p>
<h3 id="Static-Files"><a href="#Static-Files" class="headerlink" title="Static Files"></a>Static Files</h3><p><strong>Static Files</strong> （静态文件）是 CSS、JavaScript、字体、图像或可能用来组成用户界面的任何其他资源。<br>Django 提供了一些功能来帮助我们管理静态文件。这些功能在 <code>INSTALLED_APPS</code> 配置中已经列出的 <strong>django.contrib.staticfiles</strong> app 中。<br>有如此多可用的前端组件库，我们没有理由继续渲染基本的 HTML 文档。我们可以轻松地将 <strong>Bootstrap 4</strong> 添加到我们的项目中。 Bootstrap 是一个开源工具包，其用于使用HTML, CSS, 和 JavaScript所开发的项目。  </p>
<p>在 manage.py 和 boards 文件夹同级目录创建一个名为 <strong>static</strong> 的新文件夹，然后在 <strong>static</strong> 文件夹中创建一个名为 <strong>css</strong> 的文件夹：  </p>
<ul>
<li>myproject&#x2F;<ul>
<li>manage.py</li>
<li>myproject&#x2F;</li>
<li>boards&#x2F;</li>
<li>templates&#x2F;</li>
<li>static&#x2F;    &lt;– here!<ul>
<li>css&#x2F;    &lt;– and here!</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>访问 <a target="_blank" rel="noopener" href="https://getbootstrap.com/">Bootstrap 官网</a> 并下载最新版本的 <strong>Compiled CSS and JS version</strong> ：  </p>
<p><img src="/Django/02/GetBootstrap.png" alt="下载界面" loading="lazy"></p>
<p>解压从 Bootstrap 网站下载的 bootstrap-x.x.x-dist.zip 文件，将文件 css&#x2F;bootstrap.min.css 复制到我们项目的 css 文件夹中：  </p>
<ul>
<li>myproject&#x2F;<ul>
<li>manage.py</li>
<li>myproject&#x2F;</li>
<li>boards&#x2F;</li>
<li>templates&#x2F;</li>
<li>static&#x2F;<ul>
<li>css&#x2F;<ul>
<li>bootstrap.min.css    &lt;– here!</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>下一步是指示 Django 在哪里可以找到 static files。打开 <strong>settings.py</strong> ，在文件底部，STATIC_URL 之后，添加以下内容：  </p>
<pre class="language-python" data-language="python"><code class="language-python">STATIC_URL <span class="token operator">=</span> <span class="token string">'/static/'</span>

STATICFILES_DIRS <span class="token operator">=</span> <span class="token punctuation">[</span>
    os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'static'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span></code></pre>

<p>这其实与我们在 <a href="#TemplatesDir"><strong>Templates 处的设置</strong></a> 方法相同。<br>现在我们要在 template 中加载 static files（Bootstrap CSS 文件）：<br><strong>templates&#x2F;home.html</strong></p>
<pre class="language-html" data-language="html"><code class="language-html">&#123;% load static %&#125;<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Boards<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;% static <span class="token punctuation">'</span>css/bootstrap.min.css<span class="token punctuation">'</span> %&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- body suppressed for brevity ... --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>

<p>首先，我们使用 template 开头的 <code>&#123;% load static %&#125;</code> 加载 <strong>Static Files App</strong> template 标签。<br><code>&#123;% static %&#125;</code> 用于组成资源所在的 URL。在此情况下，<code>&#123;% static 'css/bootstrap.min.css' %&#125;</code> 将返回 <strong>&#x2F;static&#x2F;css&#x2F;bootstrap.min.css</strong> ，相当于 <strong><a target="_blank" rel="noopener" href="http://127.0.0.1:8000/static/css/bootstrap.min.css">http://127.0.0.1:8000/static/css/bootstrap.min.css</a></strong> 。<br><code>&#123;% static %&#125;</code> 使用 <strong>settings.py</strong> 中的 <code>STATIC_URL</code> 配置来组成最终的 URL。例如，如果静态文件托管在 <a target="_blank" rel="noopener" href="https://static.example.com/">https://static.example.com/</a> 等子域中，我们将设置 <code>STATIC_URL=https://static.example.com/</code> ，然后 <code>&#123;% static 'css/bootstrap. min.css' %&#125;</code> 将返回 <strong><a target="_blank" rel="noopener" href="https://static.example.com/css/bootstrap.min.css">https://static.example.com/css/bootstrap.min.css</a></strong> 。<br>现在我们可以编辑模板以利用 Bootstrap CSS：<br><strong>templates&#x2F;home.html</strong></p>
<pre class="language-html" data-language="html"><code class="language-html">&#123;% load static %&#125;<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Boards<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;% static <span class="token punctuation">'</span>css/bootstrap.min.css<span class="token punctuation">'</span> %&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>breadcrumb my-4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>breadcrumb-item active<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Boards<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>thead-inverse<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Board<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Posts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Topics<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Last Post<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
          &#123;% for board in boards %&#125;
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>
                &#123;&#123; board.name &#125;&#125;
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>small</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-muted d-block<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123; board.description &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>small</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>align-middle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>align-middle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
          &#123;% endfor %&#125;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>

<p>运行结果如下：</p>
<p><img src="/Django/02/Test4.png" alt="运行结果" loading="lazy"></p>
<h2 id="Django-Admin-简介"><a href="#Django-Admin-简介" class="headerlink" title="Django Admin 简介"></a>Django Admin 简介</h2><p>到目前为止，我们正在使用交互式控制台（<code>python manage.py shell</code>）添加新的 broads。但我们需要一种更好的方法。我们将实现一个管理界面，供网站管理员管理。<br>当我们开始一个新项目时，Django 已经配置了 INSTALLED_APPS 中列出的 <strong>Django Admin</strong> 。<br>Django Admin 的一个很好的用例是在博客中：作者可以使用它来撰写和发表文章。另一个例子是电子商务网站：工作人员可以在其中创建、编辑、删除产品。<br>现在，我们将配置 Django Admin 来维护我们的 app 的 boards。<br>让我们从创建 Admin 帐户开始：  </p>
<pre class="language-none"><code class="language-none">python manage.py createsuperuser</code></pre>

<p>填写相应的内容后，运行我们的服务器并打开 <a target="_blank" rel="noopener" href="http://127.0.0.1:8000/admin/">http://127.0.0.1:8000/admin/</a> 。<br>可以看到 Admin 的登录界面：  </p>
<p><img src="/Django/02/AdminLogin.png" alt="Admin 登陆界面" loading="lazy"></p>
<p>登录后的界面：</p>
<p><img src="/Django/02/Admin.png" alt="Admin 界面" loading="lazy"></p>
<p>它已经配置了一些功能。在这里我们可以添加 user 和 group 来管理权限。稍后我们将探讨更多这些概念。<br>添加 <strong>Board</strong> model 非常简单。打开boards目录下的admin.py文件，添加如下代码：<br><strong>boards&#x2F;admin.py</strong></p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Board

admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Board<span class="token punctuation">)</span></code></pre>

<p>保存 admin.py 文件，然后在浏览器上刷新页面，即可看到：</p>
<p><img src="/Django/02/Admin2.png" alt="Admin 界面" loading="lazy"></p>
<p>之后我们即可在此界面对网站进行管理。  </p>
</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><span class="icon iconify" data-icon="ri:money-dollar-circle-line"></span></span><div id="reward-comment">我很可爱，请给我钱</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/img/alipay.jpg"><img loading="lazy" src="/img/alipay.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><span class="icon iconify" data-icon="ri:alipay-line"></span></span></div></div><div style="display:inline-block"><a href="/img/wechatpay.png"><img loading="lazy" src="/img/wechatpay.png" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><span class="icon iconify" data-icon="ri:qq-line"></span></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>紅葉</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="http://jk-momiji.com/Django/02/" title="Django 学习笔记 - 02">http://jk-momiji.com/Django/02/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/DeepLearning/01/" rel="prev" title="DeepLearning 学习笔记 - 01"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">DeepLearning 学习笔记 - 01</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/Django/01/" rel="next" title="Django 学习笔记 - 01"><span class="post-nav-text">Django 学习笔记 - 01</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2022 – 2023 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> 紅葉</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v6.0.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.6</span></div><div id="busuanzi"><span id="busuanzi_container_site_uv" title="总访客量"><span><span class="icon iconify" data-icon="ri:user-line"></span></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="总访问量"><span><span class="icon iconify" data-icon="ri:eye-line"></span></span><span id="busuanzi_value_site_pv"></span></span><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images = [...document.querySelectorAll('.markdown-body img')]
mediumZoom(images)</script><style>.medium-zoom-image {
  z-index: 99;
}</style></body></html>